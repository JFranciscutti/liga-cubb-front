import{r as p,a as e,T as f,F as C,I as F,a9 as c,j as r,o as x,aE as T,aF as h,L as A,ay as B,W as S,aH as D,B as L,aI as w,aJ as k,aK as I,aL as q}from"./index-e0ec8746.js";import{C as E}from"./useSupenseQuery-df6877ce.js";import{u as b,g as P,C as m,b as g,c as G,a as u,o as O,H as R,d as M}from"./styles-07de506b.js";import{u as j,H as V,a as W,b as $}from"./useTableQuery-ec6154cf.js";import"./compressor.esm-0f4ad7e4.js";import"./Image-07734c82.js";import{H as y}from"./HitTextField-e489ad45.js";import{C as J}from"./Campeonato-6794e0f9.js";import{D as K}from"./DialogHeader-b8eedb58.js";import{H as Q}from"./HitNumberField-d5d983f8.js";import{H as U}from"./HitSelectField-0476fdb4.js";import{b as z,c as X}from"./CampeonatoRepository-ce2c759f.js";import{C as Y}from"./Card-76798bab.js";import"./Select-1cf546fd.js";import"./Grid-e8368c00.js";import"./Close-f9fb50a2.js";import"./KeyboardArrowRight-8dd4c9a3.js";import"./TextField-619215a7.js";import"./FormControl-e0285977.js";import"./CategoriaRepository-776d4995.js";const Z={nombre:""},_=({data:i,isLoading:l,onDelete:o,onEdit:t})=>{const a=b({defaultValues:Z}),[H,d]=p.useState(null),s=p.useRef(),v=j([{field:"nombre",headerName:"Nombre",type:"string",renderHeader:()=>e("div",{className:"px-2",children:"Nombre"}),renderCell:n=>e("div",{className:"w-full px-2",children:e(f,{children:n.row.name})})},{field:"type",headerName:"Tipo",type:"string",renderCell:n=>e("div",{className:"w-full px-2",children:e(f,{children:n.row.type===J.COPA?"Copa":"Torneo Regular"})})},{field:"action",headerName:"Acciones",maxWidth:200,type:"actions",align:"center",headerAlign:"center",renderCell:n=>e(C,{children:e(F,{onClick:N=>{s.current=n.row.id,d(N.currentTarget)},children:e(c,{icon:"eva:more-vertical-fill"})})})}]);return r(x,{children:[e(V,{filter:{hf:a,render:r(P,{children:[e(m,{name:"nombre",render:n=>e(y,{...n,label:"Nombre"})}),r(g,{children:[e(W,{}),e($,{})]})]})},disableRowSelectionOnClick:!0,rows:i,columns:v}),r(T,{open:H,onClose:()=>{d(null),s.current=void 0},arrow:"right-top",children:[r(h,{component:A,to:B.dashboard.campeonatos.manage(s.current),children:[e(c,{icon:"mdi:eye"}),"Administrar"]}),r(h,{onClick:()=>{d(null),o(s.current)},sx:{color:"error.main"},children:[e(c,{icon:"eva:trash-2-outline"}),"Eliminar"]})]})]})},ee=G().shape({name:u().required("Nombre es requerido"),year:u().required("Año es requerido"),type:u().required("Tipo es requerido")}),ae={name:"",type:""},re=({onSubmit:i,initialValues:l,edit:o=!1})=>{const t=b({resolver:O(ee),defaultValues:ae,mode:"onBlur",values:l});return r(R,{hf:t,onSubmit:i,children:[e(m,{name:"name",control:t.control,render:a=>e(y,{...a,label:"Nombre",floatingLabel:!1})}),e(m,{name:"year",control:t.control,render:a=>e(Q,{...a,label:"Año",floatingLabel:!1})}),e(m,{name:"type",control:t.control,render:a=>e(U,{...a,label:"Tipo",options:[{label:"Torneo regular",value:"league"},{label:"Copa",value:"cup"}],floatingLabel:!1})}),e(g,{children:e(M,{children:o?"Guardar":"Crear"})})]})},Fe=()=>{const{data:i}=z(),[l,o]=p.useState(!1),t=X();return r(C,{children:[e(S,{children:e("title",{children:"Campeonatos | LIGA CUBB"})}),r(D,{children:[e(E,{heading:"Listado - Campeonatos",links:[{name:""}],action:e(L,{variant:"contained",startIcon:e(c,{icon:"eva:plus-fill"}),onClick:()=>o(!0),children:"Nuevo campeonato"})}),e(Y,{children:e(_,{data:i,isLoading:!1,onDelete:a=>{},onEdit:a=>{}})})]}),r(w,{open:l,onClose:()=>o(!1),children:[e(k,{children:e(K,{label:"Nuevo campeonato",onClick:()=>o(!1)})}),e(I,{sx:{mb:4},children:e(re,{onSubmit:async a=>{await t.mutateAsync({...a,year:Number(a.year)},{onSuccess:()=>{o(!1),q("Campeonato creado correctamente",{variant:"success"})}})}})})]})]})};export{Fe as default};
