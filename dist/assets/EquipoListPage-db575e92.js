import{bl as g,aF as C,r as f,aw as h,a,bp as E,bq as q,j as s,F as b,W as y,aG as v,q as t,B as D,z as N,b1 as B,bm as L,b2 as P,bn as S}from"./index-64306fc9.js";import{C as w}from"./CustomBreadcrumbs-e119ef0d.js";import{D as x}from"./DialogHeader-b0ff66cf.js";import{E as F}from"./EquipoDataGrid-6c1fa5b9.js";import{a as k,b as A}from"./EquipoRepository-0c8e67f8.js";import{N as I}from"./NuevoEquipoForm-cd83a88d.js";import{C as j}from"./Card-fcb6c3db.js";import"./styles-9c2d107e.js";import"./Select-0693d7c5.js";import"./Grid-3db9cb72.js";import"./useTableQuery-15314276.js";import"./Autocomplete-8fbfe7c4.js";import"./Close-ca7d7f55.js";import"./Chip-acce7362.js";import"./KeyboardArrowRight-bd3f0abd.js";import"./compressor.esm-933962bb.js";import"./Image-5a29dd07.js";import"./HitTextField-af191bd1.js";import"./enums-ec95615b.js";import"./useSupenseQuery-bca7d862.js";import"./JugadoresRepository-8f778d28.js";import"./yup-a5e8aa66.js";function ta(){const o=g(),n=C(),[m,i]=f.useState(!1),p=h(),{data:r,isLoading:c,isError:d,refetch:l}=k(o.idCategoria||""),u=A();return c?a(E,{}):d?a(q,{}):s(b,{children:[a(y,{children:a("title",{children:"Equipos | LIGA CUBB"})}),s(v,{children:[a(w,{heading:`Categoria ${r.categoryName} - Equipos`,links:[{name:"Campeonatos",href:t.dashboard.campeonatos.list},{name:"Categorias",href:t.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:r.categoryName,href:t.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos"}],action:a(D,{onClick:()=>i(!0),variant:"contained",startIcon:a(N,{icon:"eva:plus-fill"}),children:"Nuevo equipo"})}),a(j,{children:a(F,{data:r.teams||[],isLoading:!1,onDelete:e=>n({action:async()=>{}}),onEdit:e=>{p(t.dashboard.campeonatos.manageEquipoFromCategoria(o.idCampeonato||"",o.idCategoria||"",e))}})})]}),s(B,{open:m,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(L,{children:a(x,{label:"Nuevo equipo",onClick:()=>i(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(I,{onSubmit:async e=>await u.mutateAsync({logo:e.image,name:e.name,categoryId:o.idCategoria||""},{onSuccess:async()=>{S({variant:"success",message:"Equipo creado correctamente"}),i(!1),await l()}})})})]})]})}export{ta as default};
