import{aD as C,bn as q,aG as E,au as b,r as y,a,bo as D,j as i,F as S,aH as v,ay as n,B as x,a9 as A,aL as r,aI as L,aJ as M,aK as P}from"./index-e0ec8746.js";import{D as k}from"./DialogHeader-b8eedb58.js";import{C as w}from"./useSupenseQuery-df6877ce.js";import{E as B}from"./EquipoDataGrid-62153efe.js";import{f as I,g as N,h as j}from"./EquipoRepository-3ef6feef.js";import{u as F}from"./CampeonatoRepository-ce2c759f.js";import{N as H}from"./NuevoEquipoForm-c269d507.js";import{C as O}from"./Card-76798bab.js";import"./styles-07de506b.js";import"./Select-1cf546fd.js";import"./Grid-e8368c00.js";import"./useTableQuery-ec6154cf.js";import"./Close-f9fb50a2.js";import"./KeyboardArrowRight-8dd4c9a3.js";import"./TextField-619215a7.js";import"./FormControl-e0285977.js";import"./compressor.esm-0f4ad7e4.js";import"./Image-07734c82.js";import"./HitTextField-e489ad45.js";import"./JugadoresRepository-0cb78d17.js";import"./CategoriaRepository-776d4995.js";const na=()=>{const o=C(),{themeStretch:m}=q(),p=E(),c=b(),[u,t]=y.useState(!1),d=I(),l=N(),{data:f,refetch:g}=j(o.id||""),{data:s,isLoading:h}=F(o.id||"");return h?a(D,{}):i(S,{children:[i(v,{maxWidth:m?!1:"lg",children:[a(w,{heading:`${s.name} - Lista de equipos`,links:[{name:"Campeonatos",href:n.dashboard.campeonatos.list},{name:s.name,href:n.dashboard.campeonatos.manage(o.id)},{name:"Administrar equipos"}],action:a(x,{onClick:()=>t(!0),variant:"contained",startIcon:a(A,{icon:"eva:plus-fill"}),children:"Agregar equipo"})}),a(O,{children:a(B,{data:f.teams||[],isLoading:!1,onEdit:e=>c(n.dashboard.campeonatos.manageOneEquipoCopa(s.id,e)),onDelete:e=>p({action:async()=>{await l.mutateAsync(e),r({variant:"success",message:"Equipo eliminado correctamente"}),g()}})})})]}),i(L,{open:u,onClose:()=>t(!1),PaperProps:{style:{width:"100%"}},children:[a(M,{children:a(k,{label:"Nuevo equipo",onClick:()=>t(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(H,{onSubmit:async e=>await d.mutateAsync({logo:e.image,name:e.name,cupId:o.id},{onSuccess:async()=>{r({variant:"success",message:"Equipo creado correctamente"}),t(!1)}})})})]})]})};export{na as default};
