import{aD as q,bn as C,aG as E,aw as b,r as D,a,bo as y,j as i,F as S,aH as v,q as n,B as x,z as A,aL as r,aI as L,aJ as w,aK as M}from"./index-7564c5a3.js";import{D as P}from"./DialogHeader-b66d443c.js";import{C as k}from"./useSupenseQuery-2f1fe18d.js";import{E as B}from"./EquipoDataGrid-543c234a.js";import{f as I,g as N,h as j}from"./EquipoRepository-b3f38c97.js";import{u as F}from"./CampeonatoRepository-1824db64.js";import{N as H}from"./NuevoEquipoForm-274bcc3f.js";import{C as O}from"./Card-33a9d174.js";import"./styles-3f44635e.js";import"./Select-801e906b.js";import"./Grid-e2d030a2.js";import"./useTableQuery-57349f10.js";import"./Close-b57c7e68.js";import"./KeyboardArrowRight-15df010f.js";import"./compressor.esm-bc452357.js";import"./Image-6bd31657.js";import"./HitTextField-1715ae1e.js";import"./enums-ec95615b.js";import"./JugadoresRepository-8e4c7c21.js";const sa=()=>{const o=q(),{themeStretch:m}=C(),c=E(),p=b(),[u,t]=D.useState(!1),d=I(),l=N(),{data:f,refetch:g}=j(o.id||""),{data:s,isLoading:h}=F(o.id||"");return h?a(y,{}):i(S,{children:[i(v,{maxWidth:m?!1:"lg",children:[a(k,{heading:`${s.name} - Lista de equipos`,links:[{name:"Campeonatos",href:n.dashboard.campeonatos.list},{name:s.name,href:n.dashboard.campeonatos.manage(o.id)},{name:"Administrar equipos"}],action:a(x,{onClick:()=>t(!0),variant:"contained",startIcon:a(A,{icon:"eva:plus-fill"}),children:"Agregar equipo"})}),a(O,{children:a(B,{data:f.teams||[],isLoading:!1,onEdit:e=>p(n.dashboard.campeonatos.manageOneEquipoCopa(s.id,e)),onDelete:e=>c({action:async()=>{await l.mutateAsync(e),r({variant:"success",message:"Equipo eliminado correctamente"}),g()}})})})]}),i(L,{open:u,onClose:()=>t(!1),PaperProps:{style:{width:"100%"}},children:[a(w,{children:a(P,{label:"Nuevo equipo",onClick:()=>t(!1)})}),a(M,{sx:{mb:4,width:"100%"},children:a(H,{onSubmit:async e=>await d.mutateAsync({logo:e.image,name:e.name,cupId:o.id},{onSuccess:async()=>{r({variant:"success",message:"Equipo creado correctamente"}),t(!1)}})})})]})]})};export{sa as default};
