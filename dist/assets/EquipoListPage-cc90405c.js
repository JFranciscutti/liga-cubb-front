import{aD as g,aG as C,r as f,au as h,a,bo as E,bp as q,j as s,F as b,W as y,aH as D,ay as t,B as v,a9 as L,aI as N,aJ as B,aK as P,aL as S}from"./index-e0ec8746.js";import{C as x}from"./useSupenseQuery-df6877ce.js";import{D as I}from"./DialogHeader-b8eedb58.js";import{E as k}from"./EquipoDataGrid-62153efe.js";import{a as w,b as A}from"./EquipoRepository-3ef6feef.js";import{N as F}from"./NuevoEquipoForm-c269d507.js";import{C as j}from"./Card-76798bab.js";import"./styles-07de506b.js";import"./Select-1cf546fd.js";import"./Grid-e8368c00.js";import"./useTableQuery-ec6154cf.js";import"./Close-f9fb50a2.js";import"./KeyboardArrowRight-8dd4c9a3.js";import"./TextField-619215a7.js";import"./FormControl-e0285977.js";import"./compressor.esm-0f4ad7e4.js";import"./Image-07734c82.js";import"./HitTextField-e489ad45.js";import"./JugadoresRepository-0cb78d17.js";function oa(){const o=g(),n=C(),[m,i]=f.useState(!1),p=h(),{data:r,isLoading:c,isError:d,refetch:u}=w(o.idCategoria||""),l=A();return c?a(E,{}):d?a(q,{}):s(b,{children:[a(y,{children:a("title",{children:"Equipos | LIGA CUBB"})}),s(D,{children:[a(x,{heading:`Categoria ${r.categoryName} - Equipos`,links:[{name:"Campeonatos",href:t.dashboard.campeonatos.list},{name:"Categorias",href:t.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:r.categoryName,href:t.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos"}],action:a(v,{onClick:()=>i(!0),variant:"contained",startIcon:a(L,{icon:"eva:plus-fill"}),children:"Nuevo equipo"})}),a(j,{children:a(k,{data:r.teams||[],isLoading:!1,onDelete:e=>n({action:async()=>{}}),onEdit:e=>{p(t.dashboard.campeonatos.manageEquipoFromCategoria(o.idCampeonato||"",o.idCategoria||"",e))}})})]}),s(N,{open:m,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(B,{children:a(I,{label:"Nuevo equipo",onClick:()=>i(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(F,{onSubmit:async e=>await l.mutateAsync({logo:e.image,name:e.name,categoryId:o.idCategoria||""},{onSuccess:async()=>{S({variant:"success",message:"Equipo creado correctamente"}),i(!1),await u()}})})})]})]})}export{oa as default};
