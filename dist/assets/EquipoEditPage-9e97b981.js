import{au as q,bn as L,r as D,aD as S,a,bo as j,bp as w,j as r,F as J,W as P,aH as k,ay as s,o as A,T as B,aL as u,S as I,B as T,a9 as v,aI as F,aJ as M,aK as N}from"./index-e0ec8746.js";import{C as p}from"./useSupenseQuery-df6877ce.js";import{N as H}from"./NuevoEquipoForm-c269d507.js";import{c as O,d as Q,e as G}from"./EquipoRepository-3ef6feef.js";import{J as W}from"./JugadoresDataGrid-dd8a1f49.js";import{D as z}from"./DialogHeader-b8eedb58.js";import{S as K}from"./SelectJugadoresForm-cf80e9a3.js";import{u as U}from"./JugadoresRepository-0cb78d17.js";import{u as V}from"./CampeonatoRepository-ce2c759f.js";import{C as l}from"./Card-76798bab.js";import"./styles-07de506b.js";import"./Select-1cf546fd.js";import"./Grid-e8368c00.js";import"./compressor.esm-0f4ad7e4.js";import"./Image-07734c82.js";import"./HitTextField-e489ad45.js";import"./TextField-619215a7.js";import"./FormControl-e0285977.js";import"./useTableQuery-ec6154cf.js";import"./Close-f9fb50a2.js";import"./KeyboardArrowRight-8dd4c9a3.js";import"./CategoriaRepository-776d4995.js";const Ca=()=>{var m;q();const{themeStretch:c}=L(),[g,t]=D.useState(!1),o=S(),{data:n,isLoading:R}=V(o.idCampeonato||""),f=((m=n==null?void 0:n.categories)==null?void 0:m.filter(e=>e.id===o.idCategoria)[0].name)||"",{data:i,isLoading:d,isError:h}=O(o.idEquipo||""),{data:C,isLoading:x,isError:E}=U(),y=Q(),b=G();return d||x?a(j,{}):h||E?a(w,{}):r(J,{children:[a(P,{children:r("title",{children:[i.name," | LIGA CUBB"]})}),r(k,{maxWidth:c?!1:"lg",sx:{display:"flex",flexDirection:"column",gap:2},children:[a(p,{sx:{mb:1},heading:i.name,links:[{name:"Campeonatos",href:s.dashboard.campeonatos.list},{name:"Categorias",href:s.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:f,href:s.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos",href:s.dashboard.campeonatos.manageEquiposCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:i.name}]}),r(l,{sx:{p:2,gap:2,display:"flex",flexDirection:"column"},children:[a(A,{children:a(B,{variant:"h4",children:"Información del equipo"})}),a(H,{edit:!0,onSubmit:async e=>{await b.mutateAsync({id:o.idEquipo||"",name:e.name,logo:e.image}),u("Equipo editado correctamente",{variant:"success"})},initialValues:{name:i.name,image:i.logo}})]}),r(l,{sx:{p:2,display:"flex",flexDirection:"column"},children:[a(p,{heading:"Lista de buena fé",links:[{name:""}],sx:{mb:4},action:a(I,{flexDirection:"row",gap:5,children:a(T,{onClick:()=>t(!0),variant:"contained",startIcon:a(v,{icon:"eva:plus-fill"}),children:"Cargar Jugadores"})})}),a(W,{data:i.jugadores||[],isLoading:d,onDelete:function(e){throw new Error("Function not implemented.")}})]})]}),r(F,{open:g,onClose:()=>t(!1),PaperProps:{style:{width:"100%"}},children:[a(M,{children:a(z,{label:"Cargar jugadores",onClick:()=>t(!1)})}),a(N,{sx:{mb:4,width:"100%"},children:a(K,{onSubmit:async e=>{await y.mutateAsync({teamId:o.idEquipo||"",players:e.ids}),u("Lista actualizada"),t(!1)},jugadores:C})})]})]})};export{Ca as default};
