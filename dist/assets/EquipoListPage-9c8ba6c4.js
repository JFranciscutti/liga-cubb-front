import{aD as g,aG as C,r as f,aw as h,a,bo as E,bp as q,j as s,F as b,W as y,aH as D,q as t,B as v,z as L,aI as N,aJ as B,aK as P,aL as S}from"./index-7564c5a3.js";import{C as w}from"./useSupenseQuery-2f1fe18d.js";import{D as x}from"./DialogHeader-b66d443c.js";import{E as I}from"./EquipoDataGrid-543c234a.js";import{a as k,b as A}from"./EquipoRepository-b3f38c97.js";import{N as F}from"./NuevoEquipoForm-274bcc3f.js";import{C as j}from"./Card-33a9d174.js";import"./styles-3f44635e.js";import"./Select-801e906b.js";import"./Grid-e2d030a2.js";import"./useTableQuery-57349f10.js";import"./Close-b57c7e68.js";import"./KeyboardArrowRight-15df010f.js";import"./compressor.esm-bc452357.js";import"./Image-6bd31657.js";import"./HitTextField-1715ae1e.js";import"./enums-ec95615b.js";import"./JugadoresRepository-8e4c7c21.js";function aa(){const o=g(),n=C(),[m,i]=f.useState(!1),p=h(),{data:r,isLoading:c,isError:d,refetch:u}=k(o.idCategoria||""),l=A();return c?a(E,{}):d?a(q,{}):s(b,{children:[a(y,{children:a("title",{children:"Equipos | LIGA CUBB"})}),s(D,{children:[a(w,{heading:`Categoria ${r.categoryName} - Equipos`,links:[{name:"Campeonatos",href:t.dashboard.campeonatos.list},{name:"Categorias",href:t.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:r.categoryName,href:t.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos"}],action:a(v,{onClick:()=>i(!0),variant:"contained",startIcon:a(L,{icon:"eva:plus-fill"}),children:"Nuevo equipo"})}),a(j,{children:a(I,{data:r.teams||[],isLoading:!1,onDelete:e=>n({action:async()=>{}}),onEdit:e=>{p(t.dashboard.campeonatos.manageEquipoFromCategoria(o.idCampeonato||"",o.idCategoria||"",e))}})})]}),s(N,{open:m,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(B,{children:a(x,{label:"Nuevo equipo",onClick:()=>i(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(F,{onSubmit:async e=>await l.mutateAsync({logo:e.image,name:e.name,categoryId:o.idCategoria||""},{onSuccess:async()=>{S({variant:"success",message:"Equipo creado correctamente"}),i(!1),await u()}})})})]})]})}export{aa as default};
