var m=Object.defineProperty;var l=(e,a,t)=>a in e?m(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var n=(e,a,t)=>(l(e,typeof a!="symbol"?a+"":a,t),t);import{aY as p,b1 as c,b2 as o,b3 as i}from"./index-e0ec8746.js";import{u as r,a as d}from"./useSupenseQuery-df6877ce.js";import{p as g}from"./CategoriaRepository-776d4995.js";const f=e=>e,F=e=>({...e}),C=e=>({matches:e.matches,name:e.name,teams:e.teams.map(F)}),h=e=>({...e,date:e!=null&&e.date?i(e==null?void 0:e.date):null});class q{constructor(){n(this,"keys",{all:()=>["campeonatos"],one:a=>["campeonatos",a],fases:()=>["fases-copa"],oneFase:a=>["fases-copa",a],partido:a=>[a]});n(this,"getAll",async()=>{const{data:a}=await o.get("tournament/all");return a.map(f)});n(this,"get",async a=>{const{data:t}=await o.get(`tournament?tournamentId=${a}`);return t});n(this,"create",a=>o.post("tournament",a));n(this,"edit",async a=>o.put("campeonatos/"+a.id,{name:a.name}));n(this,"remove",async a=>o.delete("campeonatos/"+a));n(this,"createFaseGruposCopa",async({campeonatoId:a,grupos:t})=>{await o.post("tournament/cup/create-phase-group",{tournamentId:a,groupTeams:t})});n(this,"allFases",async a=>{const{data:t}=await o.get(`tournament/cup/get-phases?cupId=${a}`);return t});n(this,"getOneFase",async a=>{const{data:t}=await o.get(`tournament/cup/get-all-groups?phaseId=${a}`);return t.map(C)});n(this,"getOnePartido",async({homeTeamId:a,awayTeamId:t,faseId:u})=>{const{data:y}=await o.get(`tournament/cup/phase-group/get-match?phaseId=${u}&homeTeamId=${a}&awayTeamId=${t}`);return h(y)});n(this,"createFasePlayoff",async({partidos:a,cupId:t})=>await o.post("tournament/cup/create-phase-playoff",{competitionId:t,round:{roundNumber:a.length,matchesPlayoff:a}}));n(this,"getOneFasePlayoff",async a=>{const{data:t}=await o.get(`tournament/league/categories/phase-playoff/get-rounds?phaseId=${a}`);return t.map(g)})}}const s=new q,P=()=>r({queryKey:s.keys.all(),queryFn:s.getAll}),M=e=>r({queryKey:s.keys.one(e),queryFn:()=>s.get(e)}),O=()=>{const e=p();return c({mutationFn:s.create,onSuccess:()=>{e.invalidateQueries(s.keys.all())}})},$=()=>{const e=p();return c({mutationFn:s.createFaseGruposCopa,onSuccess:(a,t)=>{e.invalidateQueries(s.keys.one(t.campeonatoId))}})},K=e=>r({queryKey:s.keys.fases(),queryFn:()=>s.allFases(e)}),T=e=>r({queryKey:s.keys.oneFase(e),queryFn:()=>s.getOneFase(e)}),b=(e,a,t,u)=>d({queryKey:s.keys.partido(e+a+t),queryFn:()=>s.getOnePartido({homeTeamId:e,awayTeamId:a,faseId:t}),enabled:u}),v=()=>{const e=p();return c({mutationFn:s.createFasePlayoff,onSuccess:(a,t)=>{e.invalidateQueries(s.keys.one(t.cupId))}})},A=e=>r({queryKey:s.keys.oneFase(e),queryFn:()=>s.getOneFasePlayoff(e)});export{K as a,P as b,O as c,$ as d,b as e,T as f,v as g,A as h,M as u};
