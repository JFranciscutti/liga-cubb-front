import{j as t,a,aw as y,b4 as S,r as D,bl as L,bp as F,bq as j,F as w,aG as H,q as n,o as J,T as v,bn as A,S as P,B as k,z as B,b1 as T,bm as M,b2 as N}from"./index-c23903f8.js";import{C as c}from"./CustomBreadcrumbs-a5dcf113.js";import{N as G}from"./NuevoEquipoForm-cf7d32f3.js";import{c as I,d as O,e as Q}from"./EquipoRepository-600107ee.js";import{J as V}from"./JugadoresDataGrid-6a473df1.js";import{D as z}from"./DialogHeader-eae97665.js";import{c as W,d as _,o as $}from"./yup-5bc9912e.js";import{u as K,H as R,C as U,a as X,b as Y}from"./styles-bb773ccc.js";import"./compressor.esm-3ab290a9.js";import"./Image-dd45a27b.js";import{H as Z}from"./HitMultiAutocompleteField-e400a5cc.js";import{G as p}from"./Grid-e20c1929.js";import{u as aa}from"./JugadoresRepository-576570e9.js";import{u as ea}from"./CampeonatoRepository-8454b4e6.js";import{C as g}from"./Card-9f0c7488.js";import"./HitTextField-48ffeaee.js";import"./Select-2d9d323e.js";import"./enums-ec95615b.js";import"./useSupenseQuery-b777e0ff.js";import"./useTableQuery-989755fa.js";import"./Autocomplete-cd9cc086.js";import"./Close-206562f3.js";import"./Chip-98127efc.js";import"./KeyboardArrowRight-cc03e53f.js";const oa=W().shape({ids:_().required("Seleccione al menos un jugador").min(1,"Seleccione al menos un jugador")}),ra={ids:[]},ia=({onSubmit:m,jugadores:d})=>{const i=K({resolver:$(oa),defaultValues:ra,mode:"onBlur"});return t(R,{hf:i,onSubmit:m,children:[a(p,{container:!0,spacing:2,className:"p-5",children:a(p,{item:!0,xs:12,children:a(U,{name:"ids",control:i.control,rules:{required:!0},render:e=>a(Z,{...e,options:d.map(o=>({label:o.nombre+" "+o.apellido,value:o.nro_socio})),label:"Jugadores disponibles",floatingLabel:!1})})})}),a(X,{children:a(Y,{children:"Cargar"})})]})},Ja=()=>{var u;y();const{themeStretch:m}=S(),[d,i]=D.useState(!1),e=L(),{data:o,isLoading:ta}=ea(e.idCampeonato||""),f=((u=o==null?void 0:o.categories)==null?void 0:u.filter(r=>r.id===e.idCategoria)[0].name)||"",{data:s,isLoading:l,isError:h}=I(e.idEquipo||""),{data:b,isLoading:C,isError:x}=aa(),q=O(),E=Q();return l||C?a(F,{}):h||x?a(j,{}):t(w,{children:[t(H,{maxWidth:m?!1:"lg",sx:{display:"flex",flexDirection:"column",gap:2},children:[a(c,{sx:{mb:1},heading:s.name,links:[{name:"Campeonatos",href:n.dashboard.campeonatos.list},{name:"Categorias",href:n.dashboard.campeonatos.manage(e.idCampeonato||"")},{name:f,href:n.dashboard.campeonatos.manageCategoria(e.idCampeonato||"",e.idCategoria||"")},{name:"Equipos",href:n.dashboard.campeonatos.manageEquiposCategoria(e.idCampeonato||"",e.idCategoria||"")},{name:s.name}]}),t(g,{sx:{p:2,gap:2,display:"flex",flexDirection:"column"},children:[a(J,{children:a(v,{variant:"h4",children:"Información del equipo"})}),a(G,{edit:!0,onSubmit:async r=>{await E.mutateAsync({id:e.idEquipo||"",name:r.name,logo:r.image}),A("Equipo editado correctamente",{variant:"success"})},initialValues:{name:s.name,image:s.logo}})]}),t(g,{sx:{p:2,display:"flex",flexDirection:"column"},children:[a(c,{heading:"Lista de buena fé",links:[{name:""}],sx:{mb:4},action:a(P,{flexDirection:"row",gap:5,children:a(k,{onClick:()=>i(!0),variant:"contained",startIcon:a(B,{icon:"eva:plus-fill"}),children:"Cargar Jugadores"})})}),a(V,{data:s.jugadores||[],isLoading:l,onDelete:function(r){throw new Error("Function not implemented.")}})]})]}),t(T,{open:d,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(M,{children:a(z,{label:"Cargar jugadores",onClick:()=>i(!1)})}),a(N,{sx:{mb:4,width:"100%"},children:a(ia,{onSubmit:async r=>await q.mutateAsync({teamId:e.idEquipo||"",players:r.ids}),jugadores:b})})]})]})};export{Ja as default};
