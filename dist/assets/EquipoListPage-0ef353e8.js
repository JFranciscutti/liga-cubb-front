import{bl as g,aF as C,r as f,aw as h,a,bp as E,bq as q,j as s,F as b,W as y,aG as v,q as t,B as D,z as N,b1 as B,bm as L,b2 as P,bn as S}from"./index-41171d5e.js";import{C as w}from"./CustomBreadcrumbs-d1600cc8.js";import{D as x}from"./DialogHeader-6536537f.js";import{E as F}from"./EquipoDataGrid-bceff50b.js";import{a as k,b as A}from"./EquipoRepository-8a20586c.js";import{N as I}from"./NuevoEquipoForm-7ec526bb.js";import{C as j}from"./Card-65106afd.js";import"./styles-0db8a13f.js";import"./Select-5bd52ba1.js";import"./Grid-4bc07afd.js";import"./useTableQuery-54069143.js";import"./Autocomplete-fed4dfde.js";import"./Close-4614118c.js";import"./Chip-cfc1950e.js";import"./KeyboardArrowRight-4557c216.js";import"./compressor.esm-2f7fd899.js";import"./Image-4f419779.js";import"./HitTextField-87bdfa3f.js";import"./enums-ec95615b.js";import"./useSupenseQuery-97e21a26.js";import"./JugadoresRepository-de22e4e3.js";import"./yup-4caf009a.js";function ta(){const o=g(),n=C(),[m,i]=f.useState(!1),p=h(),{data:r,isLoading:c,isError:d,refetch:l}=k(o.idCategoria||""),u=A();return c?a(E,{}):d?a(q,{}):s(b,{children:[a(y,{children:a("title",{children:"Equipos | LIGA CUBB"})}),s(v,{children:[a(w,{heading:`Categoria ${r.categoryName} - Equipos`,links:[{name:"Campeonatos",href:t.dashboard.campeonatos.list},{name:"Categorias",href:t.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:r.categoryName,href:t.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos"}],action:a(D,{onClick:()=>i(!0),variant:"contained",startIcon:a(N,{icon:"eva:plus-fill"}),children:"Nuevo equipo"})}),a(j,{children:a(F,{data:r.teams||[],isLoading:!1,onDelete:e=>n({action:async()=>{}}),onEdit:e=>{p(t.dashboard.campeonatos.manageEquipoFromCategoria(o.idCampeonato||"",o.idCategoria||"",e))}})})]}),s(B,{open:m,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(L,{children:a(x,{label:"Nuevo equipo",onClick:()=>i(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(I,{onSubmit:async e=>await u.mutateAsync({logo:e.image,name:e.name,categoryId:o.idCategoria||""},{onSuccess:async()=>{S({variant:"success",message:"Equipo creado correctamente"}),i(!1),await l()}})})})]})]})}export{ta as default};
