var l=Object.defineProperty;var d=(e,a,t)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var n=(e,a,t)=>(d(e,typeof a!="symbol"?a+"":a,t),t);import{u as i,a as p,G as g}from"./useSupenseQuery-df6877ce.js";import{aY as u,b1 as c,b2 as o,b3 as h}from"./index-e0ec8746.js";const f=e=>e,F=e=>({equipoLocal:{id:e.homeTeamId,name:e.homeTeamName,logoUrl:e.homeTeamLogo,gender:g.MASCULINO},equipoVisitante:{id:e.awayTeamId,name:e.awayTeamName,logoUrl:e.awayTeamLogo,gender:g.MASCULINO}}),y=e=>({...e,date:e!=null&&e.date?h(e==null?void 0:e.date):null}),q=e=>({matchesPlayoff:e.matchesPlayoff.map(t=>({id:t.id,awayMatch:y(t.awayMatch),homeMatch:y(t.homeMatch),teamWinner:t.teamWinner,nextMatchId:t.nextMatchId})),roundNumber:e.roundNumber});class M{constructor(){n(this,"keys",{all:()=>["categorias"],one:a=>["categorias",a],fases:a=>["fases",a],oneFase:(a,t)=>["fases",a+t],partido:a=>[a]});n(this,"getAll",async()=>{await o.get("categorias")});n(this,"get",async a=>{const{data:t}=await o.get(`categorias/${a}`);return f(t)});n(this,"create",a=>o.post("tournament/league/categories/createCategory",a));n(this,"edit",async a=>o.put("categorias/"+a.id,{name:a.name}));n(this,"remove",async a=>o.delete("categorias/"+a));n(this,"saveFecha",async({fechas:a,categoryId:t})=>await o.post("tournament/league/categories/create-phase-general",{categoryId:t,matches:a}));n(this,"allFases",async a=>{const{data:t}=await o.get(`tournament/league/categories/get-phases?categoryId=${a}`);return t});n(this,"getOneFase",async(a,t)=>{const{data:r}=await o.get(`tournament/league/categories/phase-general/get-all-matches?phaseId=${a}&dateNumber=${t||1}`);return r.map(F)});n(this,"getOnePartido",async({homeTeamId:a,awayTeamId:t,faseId:r})=>{const{data:m}=await o.get(`tournament/league/categories/phase-general/get-match?phaseId=${r}&homeTeamId=${a}&awayTeamId=${t}`);return y(m)});n(this,"createFasePlayoff",async({partidos:a,categoryId:t})=>await o.post("tournament/league/categories/create-phase-playoff",{competitionId:t,round:{roundNumber:a.length,matchesPlayoff:a}}));n(this,"getOneFasePlayoff",async a=>{const{data:t}=await o.get(`tournament/league/categories/phase-playoff/get-rounds?phaseId=${a}`);return t.map(q)});n(this,"editOnePartido",async a=>await o.post("tournament/league/categories/phase-general/edit-match",a))}}const s=new M,P=e=>i({queryKey:s.keys.one(e),queryFn:()=>s.get(e)}),k=()=>{const e=u();return c({mutationFn:s.create,onSuccess:()=>{e.invalidateQueries({queryKey:s.keys.all()})}})},O=()=>{const e=u();return c({mutationFn:s.remove,onSuccess:()=>{e.invalidateQueries({queryKey:s.keys.all()})}})},Q=()=>{const e=u();return c({mutationFn:s.edit,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.id)})}})},v=()=>{const e=u();return c({mutationFn:s.saveFecha,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.categoryId)})}})},K=e=>i({queryKey:s.keys.fases(e),queryFn:()=>s.allFases(e)}),T=(e,a)=>i({queryKey:s.keys.oneFase(e,a),queryFn:()=>s.getOneFase(e,a)}),S=(e,a,t,r)=>p({queryKey:s.keys.partido(e+a+t),queryFn:()=>s.getOnePartido({homeTeamId:e,awayTeamId:a,faseId:t}),enabled:r}),b=()=>{const e=u();return c({mutationFn:s.createFasePlayoff,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.categoryId)})}})},N=e=>i({queryKey:s.keys.oneFase(e),queryFn:()=>s.getOneFasePlayoff(e)});export{Q as a,O as b,K as c,P as d,v as e,S as f,T as g,b as h,N as i,q as p,k as u};
