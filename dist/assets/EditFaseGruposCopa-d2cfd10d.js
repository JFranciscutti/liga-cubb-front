import{b3 as B,a as e,F as G,j as s,aI as $,aJ as M,aK as A,T as b,at as w,o as c,S as j,I as C,a9 as N,r as H,aD as k,bw as R,B as L,W as V,aH as O,ay as P}from"./index-e0ec8746.js";import{C as J}from"./useSupenseQuery-df6877ce.js";import{e as Q,f as W,u as z}from"./CampeonatoRepository-ce2c759f.js";import{I as F}from"./Image-07734c82.js";import{c as K,a as n,k as v,j as g,u as U,o as X,l as S,H as Z,C as d,b as _,d as ee}from"./styles-07de506b.js";import{D as ae}from"./DialogHeader-b8eedb58.js";import{H as q,a as re,c as le}from"./canchas-12ca8816.js";import"./compressor.esm-0f4ad7e4.js";import{H as I}from"./HitNumberField-d5d983f8.js";import{H as x}from"./HitSelectField-0476fdb4.js";import{H as se}from"./HitTextField-e489ad45.js";import{G as a}from"./Grid-e8368c00.js";import{C as E}from"./Card-76798bab.js";import"./CategoriaRepository-776d4995.js";import"./Select-1cf546fd.js";import"./KeyboardArrowRight-8dd4c9a3.js";import"./TextField-619215a7.js";import"./FormControl-e0285977.js";import"./InputAdornment-f4ec09d4.js";const ie=K().shape({date:n().required(),dateNumber:v().required(),homeTeam:n().required(),awayTeam:n().required(),field:n().required(),linemenTeam:n().required(),scorer:n().required(),comments:n().optional(),homeTeamGoals:v().required().min(0),awayTeamGoals:v().required().min(0),homeTeamPlayerGoals:g().of(n()).required(),awayTeamPlayerGoals:g().of(n()).required(),homeTeamYellowCards:g().of(n()).required(),awayTeamYellowCards:g().of(n()).required(),homeTeamRedCards:g().of(n()).required(),awayTeamRedCards:g().of(n()).required()}),D={date:B(),dateNumber:0,homeTeam:"",awayTeam:"",field:"",linemenTeam:"",scorer:"",comments:"",homeTeamGoals:"0",awayTeamGoals:"0",homeTeamPlayerGoals:[{playerId:"",goals:0}],awayTeamPlayerGoals:[{playerId:"",goals:0}],homeTeamYellowCards:[],homeTeamRedCards:[],awayTeamYellowCards:[],awayTeamRedCards:[]},oe=({open:u,match:i,handleClose:h,handleSave:T})=>{const{data:t}=Q(i==null?void 0:i.homeTeam,i==null?void 0:i.awayTeam,(i==null?void 0:i.phaseId)||"",!!(i!=null&&i.homeTeam)&&!!i.awayTeam),r=U({resolver:X(ie),defaultValues:D,values:D,mode:"onBlur"}),o=S({control:r.control,name:"homeTeamPlayerGoals"}),m=S({control:r.control,name:"awayTeamPlayerGoals"}),Y=async l=>{T(l)};return t?s($,{open:u,onClose:h,PaperProps:{style:{width:"100%"}},children:[e(M,{children:e(ae,{label:`Editar partido - Fecha ${t.dateNumber}`,onClick:h})}),e(A,{sx:{width:"100%",height:"100%"},children:e(a,{container:!0,sx:{py:5,px:2},children:s(Z,{hf:r,onSubmit:Y,children:[s(a,{container:!0,spacing:2,justifyContent:"center",children:[s(a,{item:!0,xs:12,className:"flex justify-between",children:[s(a,{item:!0,xs:4,className:"flex gap-2",children:[e(a,{item:!0,children:e(F,{src:t.homeTeam.logo})}),e(b,{variant:"h6",align:"center",children:t.homeTeam.name})]}),e(a,{item:!0,xs:1,children:e(b,{variant:"h6",align:"center",children:"VS"})}),s(a,{item:!0,xs:4,className:"flex flex-row-reverse gap-2",children:[e(a,{item:!0,children:e(F,{src:t.awayTeam.logo})}),e(b,{variant:"h6",align:"center",children:t.awayTeam.name})]})]}),e(a,{item:!0,xs:12,children:e(w,{sx:{bgcolor:"gray"}})}),s(a,{item:!0,xs:12,className:"flex flex-col gap-5",children:[e(c,{className:"flex w-full justify-center",children:e(b,{className:"font-bold",children:"Goles local"})}),o.fields.map((l,f)=>s(j,{spacing:2,direction:"row",children:[e(d,{name:`homeTeamPlayerGoals.${f}.playerId`,control:r.control,rules:{required:!0},render:p=>e(x,{...p,label:"Jugador",floatingLabel:!1,options:t.homeTeam.players.map(y=>({value:y.membershipNumber,label:y.name+" "+y.lastName}))||[]})}),e(d,{name:`homeTeamPlayerGoals.${f}.goals`,control:r.control,rules:{required:!0},render:p=>e(I,{...p,label:"Goles",floatingLabel:!1})}),s(j,{alignSelf:"flex-end",children:[e(C,{disabled:o.fields.length===1,onClick:()=>o.remove(f),children:e(N,{style:{width:22,height:22},icon:"ic:outline-delete"})}),e(c,{className:"flex justify-end w-full",children:e(C,{onClick:()=>o.append({playerId:"",goals:0}),children:e(N,{style:{width:22,height:22},icon:"material-symbols:add-box-outline-rounded"})})})]})]},l.id))]}),e(a,{item:!0,xs:12,children:e(w,{sx:{bgcolor:"gray"}})}),s(a,{item:!0,xs:12,className:"flex flex-col gap-5",children:[e(c,{className:"flex w-full justify-center",children:e(b,{className:"font-bold",children:"Goles visitante"})}),m.fields.map((l,f)=>s(j,{spacing:2,direction:"row",children:[e(d,{name:`awayTeamPlayerGoals.${f}.playerId`,control:r.control,rules:{required:!0},render:p=>e(x,{...p,label:"Jugador",floatingLabel:!1,options:t.awayTeam.players.map(y=>({value:y.membershipNumber,label:y.name+" "+y.lastName}))||[]})}),e(d,{name:`awayTeamPlayerGoals.${f}.goals`,control:r.control,rules:{required:!0},render:p=>e(I,{...p,label:"Goles",floatingLabel:!1})}),s(j,{alignSelf:"flex-end",children:[e(C,{disabled:m.fields.length===1,onClick:()=>m.remove(f),children:e(N,{style:{width:22,height:22},icon:"ic:outline-delete"})}),e(c,{className:"flex justify-end w-full",children:e(C,{onClick:()=>m.append({playerId:"",goals:0}),children:e(N,{style:{width:22,height:22},icon:"material-symbols:add-box-outline-rounded"})})})]})]},l.id))]}),e(a,{item:!0,xs:12,children:e(w,{sx:{bgcolor:"gray"}})}),e(a,{item:!0,xs:6,children:e(d,{name:"homeTeamYellowCards",control:r.control,rules:{required:!0},render:l=>e(q,{...l,label:"Tarjetas amarillas - Local",floatingLabel:!1,options:[]})})}),e(a,{item:!0,xs:6,children:e(d,{name:"awayTeamYellowCards",control:r.control,rules:{required:!0},render:l=>e(q,{...l,label:"Tarjetas amarillas - Visitante",floatingLabel:!1,options:[]})})}),e(a,{item:!0,xs:6,children:e(d,{name:"homeTeamRedCards",control:r.control,rules:{required:!0},render:l=>e(q,{...l,label:"Tarjetas rojas - Local",floatingLabel:!1,options:[]})})}),e(a,{item:!0,xs:6,children:e(d,{name:"awayTeamRedCards",control:r.control,rules:{required:!0},render:l=>e(q,{...l,label:"Tarjetas rojas - Visitante",floatingLabel:!1,options:[]})})}),e(a,{item:!0,xs:12,children:e(w,{sx:{bgcolor:"gray"}})}),e(a,{item:!0,xs:12,children:e(d,{name:"date",control:r.control,rules:{required:!0},render:l=>e(re,{...l,label:"Fecha y hora de inicio",floatingLabel:!1,disablePast:!0,format:"DD/MM/YYYY - HH:mm"})})}),e(a,{item:!0,xs:12,children:e(d,{name:"field",control:r.control,rules:{required:!0},render:l=>e(x,{...l,label:"Cancha",floatingLabel:!1,options:le.canchas||[]})})}),e(a,{item:!0,xs:6,children:e(d,{name:"linemenTeam",control:r.control,rules:{required:!0},render:l=>e(x,{...l,label:"Equipo linea",floatingLabel:!1,options:[{value:"ajsdjas",label:"ajsdjas"},{value:"jajdsfjas",label:"jajdsfjas"}]})})}),e(a,{item:!0,xs:6,children:e(d,{name:"scorer",control:r.control,rules:{required:!0},render:l=>e(x,{...l,label:"Equipo planillero",floatingLabel:!1,options:[{value:"ajsdjas",label:"ajsdjas"},{value:"jajdsfjas",label:"jajdsfjas"}]})})}),e(a,{item:!0,xs:12,children:e(d,{name:"comments",control:r.control,rules:{required:!0},render:l=>e(se,{...l,label:"Comentarios",floatingLabel:!1,multiline:!0})})})]}),e(_,{children:e(ee,{children:"Actualizar informaciÃ³n"})})]})})})]}):e(G,{})},te=({partidos:u,isLoading:i})=>{const h=H.useRef(),{idFase:T}=k(),[t,r]=H.useState(!1);return i?e(R,{}):s(G,{children:[e(E,{className:"flex flex-col gap-6 w-full py-4 px-2",children:u.map((o,m)=>s(a,{container:!0,className:"flex items-center gap-2 justify-between",children:[s(a,{item:!0,xs:9,className:"flex items-center justify-between w-full",children:[s(a,{item:!0,className:"flex items-center gap-2",style:{flex:1},children:[e(c,{className:"flex items-center justify-center h-10 min-w-10 rounded-full bg-gray-50",children:e(F,{src:o.homeTeam.logo,className:"h-10 w-10 min-w-10"})}),e("p",{className:"line-clamp-1",style:{whiteSpace:"nowrap"},children:o.homeTeam.name})]}),e(a,{item:!0,className:"flex items-center justify-center",style:{flexShrink:0,minWidth:"50px"},children:e(b,{children:"VS"})}),s(a,{item:!0,className:"flex items-center gap-2",style:{flex:1,justifyContent:"flex-end"},children:[e("p",{className:"line-clamp-1",style:{whiteSpace:"nowrap",textAlign:"right"},children:o.awayTeam.name}),e(c,{className:"flex items-center justify-center h-10 min-w-10 rounded-full bg-gray-50",children:e(F,{src:o.awayTeam.logo,className:"h-10 w-10 min-w-10"})})]})]}),s(a,{item:!0,xs:2,className:"flex gap-2 justify-end",children:[e(L,{variant:"contained",onClick:()=>{h.current={homeTeam:o.homeTeam.id,awayTeam:o.awayTeam.id,phaseId:T||""},r(!0)},children:"Editar"}),e(L,{variant:"contained",children:"Ver"})]})]},m))}),e(oe,{open:t,match:h.current,handleClose:()=>{r(!1),h.current=void 0},handleSave:o=>{console.log(o)}})]})},Fe=()=>{const u=k(),{data:i,isLoading:h,isError:T}=W(u.idFase||""),{data:t}=z(u.idCampeonato||"");return s(G,{children:[e(V,{children:e("title",{children:"Fase de Grupos | LIGA CUBB"})}),s(O,{children:[e(J,{heading:`Fase de Grupos - ${t==null?void 0:t.name}`,links:[{name:"Listado",href:P.dashboard.categorias.list},{name:"Administrar",href:P.dashboard.campeonatos.manage(u.idCampeonato||"")},{name:"Fase de Grupos"}]}),e(E,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2},children:i.map((r,o)=>s(G,{children:[s(c,{children:["Grupo ",r.name]},o),e(c,{children:r.teams.map(m=>e(c,{children:m.name},m.id))}),e(te,{partidos:r.matches,isLoading:!1})]}))})]})]})};export{Fe as default};
