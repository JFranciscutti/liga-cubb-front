var y=Object.defineProperty;var i=(e,a,t)=>a in e?y(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var n=(e,a,t)=>(i(e,typeof a!="symbol"?a+"":a,t),t);import{aY as p,b1 as c,b2 as o,b3 as l}from"./index-7564c5a3.js";import{u as r,a as d}from"./useSupenseQuery-2f1fe18d.js";const g=e=>e,F=e=>({...e}),C=e=>({matches:e.matches,name:e.name,teams:e.teams.map(F)}),h=e=>({...e,date:e!=null&&e.date?l(e==null?void 0:e.date):null});class q{constructor(){n(this,"keys",{all:()=>["campeonatos"],one:a=>["campeonatos",a],fases:()=>["fases-copa"],oneFase:a=>["fases-copa",a],partido:a=>[a]});n(this,"getAll",async()=>{const{data:a}=await o.get("tournament/all");return a.map(g)});n(this,"get",async a=>{const{data:t}=await o.get(`tournament?tournamentId=${a}`);return t});n(this,"create",a=>o.post("tournament",a));n(this,"edit",async a=>o.put("campeonatos/"+a.id,{name:a.name}));n(this,"remove",async a=>o.delete("campeonatos/"+a));n(this,"createFaseGruposCopa",async({campeonatoId:a,grupos:t})=>{await o.post("tournament/cup/create-phase-group",{tournamentId:a,groupTeams:t})});n(this,"allFases",async a=>{const{data:t}=await o.get(`tournament/cup/get-phases?cupId=${a}`);return t});n(this,"getOneFase",async a=>{const{data:t}=await o.get(`tournament/cup/get-all-groups?phaseId=${a}`);return t.map(C)});n(this,"getOnePartido",async({homeTeamId:a,awayTeamId:t,faseId:u})=>{const{data:m}=await o.get(`tournament/cup/phase-group/get-match?phaseId=${u}&homeTeamId=${a}&awayTeamId=${t}`);return h(m)})}}const s=new q,f=()=>r({queryKey:s.keys.all(),queryFn:s.getAll}),I=e=>r({queryKey:s.keys.one(e),queryFn:()=>s.get(e)}),M=()=>{const e=p();return c({mutationFn:s.create,onSuccess:()=>{e.invalidateQueries(s.keys.all())}})},O=()=>{const e=p();return c({mutationFn:s.createFaseGruposCopa,onSuccess:(a,t)=>{e.invalidateQueries(s.keys.one(t.campeonatoId))}})},T=e=>r({queryKey:s.keys.fases(),queryFn:()=>s.allFases(e)}),$=e=>r({queryKey:s.keys.oneFase(e),queryFn:()=>s.getOneFase(e)}),K=(e,a,t,u)=>d({queryKey:s.keys.partido(e+a+t),queryFn:()=>s.getOnePartido({homeTeamId:e,awayTeamId:a,faseId:t}),enabled:u});export{T as a,f as b,M as c,O as d,K as e,$ as f,I as u};
