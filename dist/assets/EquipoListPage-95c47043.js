import{bl as g,aF as C,r as f,aw as h,a,bp as E,bq as q,j as s,F as b,W as y,aG as v,q as t,B as D,z as N,b1 as B,bm as L,b2 as P,bn as S}from"./index-c23903f8.js";import{C as w}from"./CustomBreadcrumbs-a5dcf113.js";import{D as x}from"./DialogHeader-eae97665.js";import{E as F}from"./EquipoDataGrid-2fd658b1.js";import{a as k,b as A}from"./EquipoRepository-600107ee.js";import{N as I}from"./NuevoEquipoForm-cf7d32f3.js";import{C as j}from"./Card-9f0c7488.js";import"./styles-bb773ccc.js";import"./Select-2d9d323e.js";import"./Grid-e20c1929.js";import"./useTableQuery-989755fa.js";import"./Autocomplete-cd9cc086.js";import"./Close-206562f3.js";import"./Chip-98127efc.js";import"./KeyboardArrowRight-cc03e53f.js";import"./compressor.esm-3ab290a9.js";import"./Image-dd45a27b.js";import"./HitTextField-48ffeaee.js";import"./enums-ec95615b.js";import"./useSupenseQuery-b777e0ff.js";import"./JugadoresRepository-576570e9.js";import"./yup-5bc9912e.js";function ta(){const o=g(),n=C(),[m,i]=f.useState(!1),p=h(),{data:r,isLoading:c,isError:d,refetch:l}=k(o.idCategoria||""),u=A();return c?a(E,{}):d?a(q,{}):s(b,{children:[a(y,{children:a("title",{children:"Equipos | LIGA CUBB"})}),s(v,{children:[a(w,{heading:`Categoria ${r.categoryName} - Equipos`,links:[{name:"Campeonatos",href:t.dashboard.campeonatos.list},{name:"Categorias",href:t.dashboard.campeonatos.manage(o.idCampeonato||"")},{name:r.categoryName,href:t.dashboard.campeonatos.manageCategoria(o.idCampeonato||"",o.idCategoria||"")},{name:"Equipos"}],action:a(D,{onClick:()=>i(!0),variant:"contained",startIcon:a(N,{icon:"eva:plus-fill"}),children:"Nuevo equipo"})}),a(j,{children:a(F,{data:r.teams||[],isLoading:!1,onDelete:e=>n({action:async()=>{}}),onEdit:e=>{p(t.dashboard.campeonatos.manageEquipoFromCategoria(o.idCampeonato||"",o.idCategoria||"",e))}})})]}),s(B,{open:m,onClose:()=>i(!1),PaperProps:{style:{width:"100%"}},children:[a(L,{children:a(x,{label:"Nuevo equipo",onClick:()=>i(!1)})}),a(P,{sx:{mb:4,width:"100%"},children:a(I,{onSubmit:async e=>await u.mutateAsync({logo:e.image,name:e.name,categoryId:o.idCategoria||""},{onSuccess:async()=>{S({variant:"success",message:"Equipo creado correctamente"}),i(!1),await l()}})})})]})]})}export{ta as default};
