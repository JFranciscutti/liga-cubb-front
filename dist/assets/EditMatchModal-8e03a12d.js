import{b3 as N,a as e,F,j as t,aI as I,aJ as D,aK as S,T as u,D as g,o as p,S as b,I as T,z as x}from"./index-7564c5a3.js";import{c as Y,a as i,j,i as c,u as k,o as $,k as C,H as R,C as s,b as E,d as M}from"./styles-3f44635e.js";import{f as B}from"./CategoriaRepository-7eb5d34c.js";import{D as V}from"./DialogHeader-b66d443c.js";import{H as w,a as A,c as J}from"./canchas-f9c46237.js";import"./compressor.esm-bc452357.js";import{I as G}from"./Image-6bd31657.js";import{H}from"./HitNumberField-dd450b14.js";import{H as f}from"./HitSelectField-dd9c2783.js";import{H as z}from"./HitTextField-1715ae1e.js";import{G as r}from"./Grid-e2d030a2.js";const K=Y().shape({date:i().required(),dateNumber:j().required(),homeTeam:i().required(),awayTeam:i().required(),field:i().required(),linemenTeam:i().required(),scorer:i().required(),comments:i().optional(),homeTeamGoals:j().required().min(0),awayTeamGoals:j().required().min(0),homeTeamPlayerGoals:c().of(i()).required(),awayTeamPlayerGoals:c().of(i()).required(),homeTeamYellowCards:c().of(i()).required(),awayTeamYellowCards:c().of(i()).required(),homeTeamRedCards:c().of(i()).required(),awayTeamRedCards:c().of(i()).required()}),P={date:N(),dateNumber:0,homeTeam:"",awayTeam:"",field:"",linemenTeam:"",scorer:"",comments:"",homeTeamGoals:"0",awayTeamGoals:"0",homeTeamPlayerGoals:[{playerId:"",goals:0}],awayTeamPlayerGoals:[{playerId:"",goals:0}],homeTeamYellowCards:[],homeTeamRedCards:[],awayTeamYellowCards:[],awayTeamRedCards:[]},ie=({open:v,match:o,handleClose:q,handleSave:O})=>{const{data:m}=B(o==null?void 0:o.homeTeam,o==null?void 0:o.awayTeam,(o==null?void 0:o.phaseId)||"",!!(o!=null&&o.homeTeam)&&!!o.awayTeam),l=k({resolver:$(K),defaultValues:P,values:P,mode:"onBlur"}),h=C({control:l.control,name:"homeTeamPlayerGoals"}),y=C({control:l.control,name:"awayTeamPlayerGoals"}),L=async a=>{console.log(a)};return m?t(I,{open:v,onClose:q,PaperProps:{style:{width:"100%"}},children:[e(D,{children:e(V,{label:`Editar partido - Fecha ${m.dateNumber}`,onClick:q})}),e(S,{sx:{width:"100%",height:"100%"},children:e(r,{container:!0,sx:{py:5,px:2},children:t(R,{hf:l,onSubmit:L,children:[t(r,{container:!0,spacing:2,justifyContent:"center",children:[t(r,{item:!0,xs:12,className:"flex justify-between",children:[t(r,{item:!0,xs:4,className:"flex gap-2",children:[e(r,{item:!0,children:e(G,{src:m.homeTeam.logo})}),e(u,{variant:"h6",align:"center",children:m.homeTeam.name})]}),e(r,{item:!0,xs:1,children:e(u,{variant:"h6",align:"center",children:"VS"})}),t(r,{item:!0,xs:4,className:"flex flex-row-reverse gap-2",children:[e(r,{item:!0,children:e(G,{src:m.awayTeam.logo})}),e(u,{variant:"h6",align:"center",children:m.awayTeam.name})]})]}),e(r,{item:!0,xs:12,children:e(g,{sx:{bgcolor:"gray"}})}),t(r,{item:!0,xs:12,className:"flex flex-col gap-5",children:[e(p,{className:"flex w-full justify-center",children:e(u,{className:"font-bold",children:"Goles local"})}),h.fields.map((a,n)=>t(b,{spacing:2,direction:"row",children:[e(s,{name:`homeTeamPlayerGoals.${n}.playerId`,control:l.control,rules:{required:!0},render:d=>e(f,{...d,label:"Jugador",floatingLabel:!1,options:[]})}),e(s,{name:`homeTeamPlayerGoals.${n}.goals`,control:l.control,rules:{required:!0},render:d=>e(H,{...d,label:"Goles",floatingLabel:!1})}),t(b,{alignSelf:"flex-end",children:[e(T,{disabled:h.fields.length===1,onClick:()=>h.remove(n),children:e(x,{style:{width:22,height:22},icon:"ic:outline-delete"})}),e(p,{className:"flex justify-end w-full",children:e(T,{onClick:()=>h.append({playerId:"",goals:0}),children:e(x,{style:{width:22,height:22},icon:"material-symbols:add-box-outline-rounded"})})})]})]},a.id))]}),e(r,{item:!0,xs:12,children:e(g,{sx:{bgcolor:"gray"}})}),t(r,{item:!0,xs:12,className:"flex flex-col gap-5",children:[e(p,{className:"flex w-full justify-center",children:e(u,{className:"font-bold",children:"Goles visitante"})}),y.fields.map((a,n)=>t(b,{spacing:2,direction:"row",children:[e(s,{name:`awayTeamPlayerGoals.${n}.playerId`,control:l.control,rules:{required:!0},render:d=>e(f,{...d,label:"Jugador",floatingLabel:!1,options:[]})}),e(s,{name:`awayTeamPlayerGoals.${n}.goals`,control:l.control,rules:{required:!0},render:d=>e(H,{...d,label:"Goles",floatingLabel:!1})}),t(b,{alignSelf:"flex-end",children:[e(T,{disabled:y.fields.length===1,onClick:()=>y.remove(n),children:e(x,{style:{width:22,height:22},icon:"ic:outline-delete"})}),e(p,{className:"flex justify-end w-full",children:e(T,{onClick:()=>y.append({playerId:"",goals:0}),children:e(x,{style:{width:22,height:22},icon:"material-symbols:add-box-outline-rounded"})})})]})]},a.id))]}),e(r,{item:!0,xs:12,children:e(g,{sx:{bgcolor:"gray"}})}),e(r,{item:!0,xs:6,children:e(s,{name:"homeTeamYellowCards",control:l.control,rules:{required:!0},render:a=>e(w,{...a,label:"Tarjetas amarillas - Local",floatingLabel:!1,options:[]})})}),e(r,{item:!0,xs:6,children:e(s,{name:"awayTeamYellowCards",control:l.control,rules:{required:!0},render:a=>e(w,{...a,label:"Tarjetas amarillas - Visitante",floatingLabel:!1,options:[]})})}),e(r,{item:!0,xs:6,children:e(s,{name:"homeTeamRedCards",control:l.control,rules:{required:!0},render:a=>e(w,{...a,label:"Tarjetas rojas - Local",floatingLabel:!1,options:[]})})}),e(r,{item:!0,xs:6,children:e(s,{name:"awayTeamRedCards",control:l.control,rules:{required:!0},render:a=>e(w,{...a,label:"Tarjetas rojas - Visitante",floatingLabel:!1,options:[]})})}),e(r,{item:!0,xs:12,children:e(g,{sx:{bgcolor:"gray"}})}),e(r,{item:!0,xs:12,children:e(s,{name:"date",control:l.control,rules:{required:!0},render:a=>e(A,{...a,label:"Fecha y hora de inicio",floatingLabel:!1,disablePast:!0,format:"DD/MM/YYYY - HH:mm"})})}),e(r,{item:!0,xs:12,children:e(s,{name:"field",control:l.control,rules:{required:!0},render:a=>e(f,{...a,label:"Cancha",floatingLabel:!1,options:J.canchas||[]})})}),e(r,{item:!0,xs:6,children:e(s,{name:"linemenTeam",control:l.control,rules:{required:!0},render:a=>e(f,{...a,label:"Equipo linea",floatingLabel:!1,options:[{value:"ajsdjas",label:"ajsdjas"},{value:"jajdsfjas",label:"jajdsfjas"}]})})}),e(r,{item:!0,xs:6,children:e(s,{name:"scorer",control:l.control,rules:{required:!0},render:a=>e(f,{...a,label:"Equipo planillero",floatingLabel:!1,options:[{value:"ajsdjas",label:"ajsdjas"},{value:"jajdsfjas",label:"jajdsfjas"}]})})}),e(r,{item:!0,xs:12,children:e(s,{name:"comments",control:l.control,rules:{required:!0},render:a=>e(z,{...a,label:"Comentarios",floatingLabel:!1,multiline:!0})})})]}),e(E,{children:e(M,{children:"Actualizar informaci√≥n"})})]})})})]}):e(F,{})};export{ie as E};
