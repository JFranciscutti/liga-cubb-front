var l=Object.defineProperty;var p=(e,a,t)=>a in e?l(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var n=(e,a,t)=>(p(e,typeof a!="symbol"?a+"":a,t),t);import{G as g}from"./enums-ec95615b.js";import{b5 as u,b0 as c,b6 as o,bo as d}from"./index-41171d5e.js";import{u as y,a as h}from"./useSupenseQuery-97e21a26.js";const f=e=>e,F=e=>({equipoLocal:{id:e.homeTeamId,name:e.homeTeamName,logoUrl:e.homeTeamLogo,gender:g.MASCULINO},equipoVisitante:{id:e.awayTeamId,name:e.awayTeamName,logoUrl:e.awayTeamLogo,gender:g.MASCULINO}}),i=e=>({...e,date:e!=null&&e.date?d(e==null?void 0:e.date):null}),q=e=>({matchesPlayoff:e.matchesPlayoff.map(t=>({id:t.id,awayMatch:i(t.awayMatch),homeMatch:i(t.homeMatch),teamWinner:t.teamWinner,nextMatchId:t.nextMatchId}))});class M{constructor(){n(this,"keys",{all:()=>["categorias"],one:a=>["categorias",a],fases:a=>["fases",a],oneFase:(a,t)=>["fases",a+t],partido:a=>[a]});n(this,"getAll",async()=>{await o.get("categorias")});n(this,"get",async a=>{const{data:t}=await o.get(`categorias/${a}`);return f(t)});n(this,"create",a=>o.post("tournament/league/categories/createCategory",a));n(this,"edit",async a=>o.put("categorias/"+a.id,{name:a.name}));n(this,"remove",async a=>o.delete("categorias/"+a));n(this,"saveFecha",async({fechas:a,categoryId:t})=>await o.post("tournament/league/categories/create-phase-general",{categoryId:t,matches:a}));n(this,"allFases",async a=>{const{data:t}=await o.get(`tournament/league/categories/get-phases?categoryId=${a}`);return t});n(this,"getOneFase",async(a,t)=>{const{data:r}=await o.get(`tournament/league/categories/phase-general/get-all-matches?phaseId=${a}&dateNumber=${t||1}`);return r.map(F)});n(this,"getOnePartido",async({homeTeamId:a,awayTeamId:t,faseId:r})=>{const{data:m}=await o.get(`tournament/league/categories/phase-general/get-match?phaseId=${r}&homeTeamId=${a}&awayTeamId=${t}`);return i(m)});n(this,"createFasePlayoff",async({partidos:a,categoryId:t})=>await o.post("tournament/league/categories/create-phase-playoff",{categoryId:t,round:{roundNumber:a.length,matchesPlayoff:a}}));n(this,"getOneFasePlayoff",async a=>{const{data:t}=await o.get(`tournament/league/categories/phase-playoff/get-rounds?phaseId=${a}`);return t.map(q)})}}const s=new M,k=e=>y({queryKey:s.keys.one(e),queryFn:()=>s.get(e)}),Q=()=>{const e=u();return c({mutationFn:s.create,onSuccess:()=>{e.invalidateQueries({queryKey:s.keys.all()})}})},O=()=>{const e=u();return c({mutationFn:s.remove,onSuccess:()=>{e.invalidateQueries({queryKey:s.keys.all()})}})},v=()=>{const e=u();return c({mutationFn:s.edit,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.id)})}})},K=()=>{const e=u();return c({mutationFn:s.saveFecha,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.categoryId)})}})},T=e=>y({queryKey:s.keys.fases(e),queryFn:()=>s.allFases(e)}),S=(e,a)=>y({queryKey:s.keys.oneFase(e,a),queryFn:()=>s.getOneFase(e,a)}),$=(e,a,t,r)=>h({queryKey:s.keys.partido(e+a+t),queryFn:()=>s.getOnePartido({homeTeamId:e,awayTeamId:a,faseId:t}),enabled:r}),b=()=>{const e=u();return c({mutationFn:s.createFasePlayoff,onSuccess:(a,t)=>{e.invalidateQueries({queryKey:s.keys.one(t.categoryId)})}})},N=e=>y({queryKey:s.keys.oneFase(e),queryFn:()=>s.getOneFasePlayoff(e)});export{v as a,O as b,T as c,k as d,K as e,$ as f,S as g,b as h,N as i,Q as u};
