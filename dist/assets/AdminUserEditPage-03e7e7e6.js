import{j as o,a,bl as P,ax as A,aw as q,b4 as T,r as y,F as M,W as $,aG as B,q as l}from"./index-c23903f8.js";import{a as G,b as j,c as k}from"./userRepository-0fddb214.js";import{C as L}from"./CustomBreadcrumbs-a5dcf113.js";import{c as p,a as m,b as R,o as b,d as V}from"./yup-5bc9912e.js";import{u as f,H as C,C as i,a as g,b as w}from"./styles-bb773ccc.js";import{H as c}from"./HitPasswordField-87c1b3a5.js";import"./compressor.esm-3ab290a9.js";import"./Image-dd45a27b.js";import{H as _,T as D,a as u}from"./HitMultiSelectField-54314fa9.js";import{H as O}from"./HitTextField-48ffeaee.js";import{R as Q}from"./User-a9673eb1.js";import{C as h}from"./Card-9f0c7488.js";import"./useSupenseQuery-b777e0ff.js";import"./Select-2d9d323e.js";import"./Grid-e20c1929.js";import"./InputAdornment-742361d8.js";import"./KeyboardArrowRight-cc03e53f.js";import"./Chip-98127efc.js";const W=p().shape({password:m().min(4,"Contraseña debe tener al menos 4 caracteres").required("Contraseña es requerida"),password_confirmation:m().required("Es necesario confirmar la Contraseña").oneOf([R("password")],"Las contraseñas no coinciden")}),N={password:"",password_confirmation:""};function z({onSubmit:s}){const e=f({resolver:b(W),defaultValues:N,mode:"onBlur"});return o(C,{hf:e,onSubmit:s,children:[a(i,{name:"password",control:e.control,render:r=>a(c,{...r,label:"Contraseña"})}),a(i,{name:"password_confirmation",control:e.control,render:r=>a(c,{...r,label:"Confirmar Contraseña"})}),a(g,{children:a(w,{children:"Guardar"})})]})}const I=p().shape({email:m().required("Email es requerido").email(),roles:V().min(1,"Debes elegir al menos un rol").required("Debes elegir al menos un rol")}),J={email:"",roles:[]};function K({values:s,onSubmit:e}){const r=f({resolver:b(I),defaultValues:J,values:s,mode:"onBlur"});return o(C,{hf:r,onSubmit:e,children:[a(i,{name:"email",render:t=>a(O,{...t,label:"Email"})}),a(i,{name:"roles",render:t=>a(_,{...t,label:"Roles",options:Q})}),a(g,{children:a(w,{children:"Guardar"})})]})}const ba=()=>{const s=P(),{enqueueSnackbar:e}=A(),r=q(),{themeStretch:t}=T(),[d,E]=y.useState("1"),S=G(),U=j(),F=k(s.id||""),H=async n=>{await U.mutateAsync({...n,id:s.id||""}),e({message:"Password Changed!"}),r(l.dashboard.categorias.list)},v=async n=>{await S.mutateAsync({...n,id:s.id||""}),e({message:"User Updated!"}),r(l.dashboard.categorias.list)};return o(M,{children:[a($,{children:a("title",{children:" Panel Administrativo | TheGelatina"})}),o(B,{maxWidth:t?!1:"lg",children:[a(L,{heading:"Editar - Administradores",links:[{name:"Listado",href:l.dashboard.categorias.list},{name:"Editar"}]}),o(D,{value:d,onChange:(n,x)=>E(x),children:[a(u,{value:"1",label:"Editar Usuario"}),a(u,{value:"2",label:"Cambiar Contraseña"})]}),d==="1"&&a(h,{sx:{p:3},children:a(K,{onSubmit:v,values:F.data})}),d==="2"&&a(h,{sx:{p:3},children:a(z,{onSubmit:H})})]})]})};export{ba as AdminUserEditPage,ba as default};
